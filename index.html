<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Omega Zero – وضع المحاكاة</title>
  <style>
    body { background:#111; color:#0ff; font-family:monospace; padding:0; margin:0; }
    .container { padding:16px; }
    h1 { text-align:center; margin:0; font-size:1.6rem; }
    .status { text-align:center; color:#ff0; margin:8px 0; }
    .panel { border:1px solid #0ff; padding:12px; margin:12px 0; }
    .btns { display:flex; justify-content:center; gap:12px; margin:12px 0; }
    .btn { background:#333; color:#0ff; border:none; padding:10px 16px; font-size:1rem; cursor:pointer; }
    .btn:hover { background:#444; }
    pre { background:#000; color:#0f0; height:200px; overflow:auto; padding:8px; }
  </style>
</head>
<body>
<div class="container">
  <h1>Omega Zero – وضع المحاكاة</h1>
  <div class="status" id="status">الحالة… في انتظار المحاكاة ⚡</div>

  <div class="panel">
    <div>🧮 عدد الصفقات: <span id="count">0</span></div>
    <div>💰 الأرباح الكلّيّة: $<span id="profit">0</span></div>
    <div>📦 الرصيد الحالي: $<span id="balance">1000</span></div>
    <div>📍 نقاط محققة: <span id="points">0</span></div>
    <div>🔥 سرعة المحاكاة: 8 أنوية (واقعيّة)</div>
  </div>

  <div class="btns">
    <button class="btn" id="start">▶️ ابدأ المحاكاة</button>
    <button class="btn" id="stop">⏸️ إيقاف</button>
    <button class="btn" id="reset">🔄 إعادة تعيين</button>
  </div>

  <pre id="log">…بانتظار بدء المحاكاة [السجل]</pre>
</div>

<script>
(() => {
  const log = document.getElementById('log');
  const start = document.getElementById('start');
  const stop  = document.getElementById('stop');
  const reset = document.getElementById('reset');
  const status= document.getElementById('status');
  const cnt  = document.getElementById('count');
  const prf  = document.getElementById('profit');
  const bal  = document.getElementById('balance');
  const pts  = document.getElementById('points');

  let data = []; // بيانات ليوم 21/7/2025 بكل دقة
  let idx = 0, timer=null;
  let balance = 1000, profit = 0, totalPoints = 0, trades=0;

  // ————— بيانات وهمية كمثال — يجب استبدالها بالبيانات الحقيقية الدقيقة للزوج GBP/JPY لذلك اليوم:
  data = [
    {time:'03:00', type:'انفجار', pts:15, $:120},
    {time:'03:04', type:'سكالب', pts:7,  $:35},
    {time:'03:07', type:'انفجار', pts:21, $:210},
    {time:'03:11', type:'سكالب', pts:-5, $:-40},
    {time:'03:15', type:'انفجار', pts:15, $:150},
    {time:'03:20', type:'سكالب', pts:5,  $:50},
    {time:'03:25', type:'انفجار', pts:30, $:300},
    {time:'03:31', type:'سكالب', pts:2,  $:20},
    {time:'03:37', type:'انفجار', pts:6,  $:60},
    {time:'03:45', type:'سكالب', pts: -10, $:-100}
    // … بيانات متبقية ليوم كامل
  ];

  function updateUI() {
    cnt.textContent = trades;
    prf.textContent = profit.toFixed(2);
    balance = 1000 + profit;
    bal.textContent = balance.toFixed(2);
    pts.textContent = totalPoints;
  }

  function logTrade(d) {
    log.textContent += `[${d.time}] – ${d.type} | نقاط: ${d.pts} | +$${d.$}\n`;
    log.scrollTop = log.scrollHeight;
  }

  function step() {
    if (idx >= data.length) {
      clearInterval(timer);
      status.textContent = 'الحالة ✅ انتهت المحاكاة بنجاح';
      return;
    }
    const d = data[idx++];
    trades++;
    profit += d.$;
    totalPoints += d.pts;
    updateUI();
    logTrade(d);
  }

  start.onclick = () => {
    if (timer) return;
    status.textContent = '🔄 المحاكاة جارية...';
    timer = setInterval(step, 1000 / 8); // سرعة 8 نواه
  };
  stop.onclick = () => {
    clearInterval(timer); timer = null;
    status.textContent = '⏸️ المحاكاة متوقفة';
  };
  reset.onclick = () => {
    clearInterval(timer); timer = null;
    trades=0; profit=0; totalPoints=0; idx=0;
    log.textContent = '…بانتظار بدء المحاكاة [السجل]\n';
    status.textContent = '⚡ في انتظار المحاكاة';
    updateUI();
  };

  updateUI();
})();
</script>
